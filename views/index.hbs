<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/navbar.css">
    <link rel="stylesheet" href="/background.css">
    <title>Account Balances</title>
</head>
<body class="background">
    <header>
        <div class="navbar">
            <a href="/auth/menu" class="menu-btn">&#9776;</a>
            <div class="nav-btn">
                <ul>
                    <li><a href="/auth/index">Accounts</a></li>
                    <li><a href="/auth/cards">Cards</a></li>
                    <li><a href="/transfers">Payments & Transfers</a></li>
                    <li><a href="/logout">Log Out</a></li>
                </ul>
            </div>
        </div>
    </header>

    <div class="container glass">
        <div class="content">
            <h1>{{username}}</h1>
            <label for="currencySelect">Choose a currency to view:</label>
            <select id="currencySelect">
                <option value="ron">RON</option>
                <option value="usd">USD</option>
                <option value="eur">EUR</option>
            </select>
            <h3>Total Balance: </h3>
            <div id="balance">
                <p id="ronBalance" style="display: none;">RON Balance: {{balances.balance_ron}}</p>
                <p id="usdBalance" style="display: none;">USD Balance: {{balances.balance_usd}}</p>
                <p id="eurBalance" style="display: none;">EUR Balance: {{balances.balance_eur}}</p>
            </div>

            <div class="buttons">
                <button id="addMoneyBtn">Add Money</button>

                <div id="myModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Add Money</h2>
                        <form id="addMoneyForm">
                    <label for="amount">Amount:</label>
                    <input type="text" id="amount" name="amount" required>
                    <label for="currency">Currency:</label>
                    <select id="currency" name="currency">
                        <option value="ron">RON</option>
                        <option value="usd">USD</option>
                        <option value="eur">EUR</option>
                    </select>
                    <button type="submit">Submit</button>
                </form>

                    </div>
                </div>

                <button class="exchange-btn">Exchange</button>
                <div id="exchangeModal" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <h2>Exchange Money</h2>
                        <form id="exchangeForm">
                            <label for="exchangeAmount">Amount:</label>
                            <input type="text" id="exchangeAmount" name="exchangeAmount" required>
                            <label for="fromCurrency">From:</label>
                            <select id="fromCurrency" name="fromCurrency">
                                <option value="ron">RON</option>
                                <option value="usd">USD</option>
                                <option value="eur">EUR</option>
                            </select>
                            <label for="toCurrency">To:</label>
                            <select id="toCurrency" name="toCurrency">
                                <option value="ron">RON</option>
                                <option value="usd">USD</option>
                                <option value="eur">EUR</option>
                            </select>
                            <button type="submit">Submit</button>
                        </form>
                    </div>
                </div>

                
                <button class="details-btn">Details</button>
            </div>
        </div>
    </div>

    <div class="transaction-history glass">
        <h2>Transaction History</h2>
        <div class="transactions">
            {{#each transactions}}
                <div class="transaction {{#unless @first}}hidden{{/unless}}">
                    <p><strong>Type:</strong> {{transaction_type}}</p>
                    <p><strong>Amount:</strong> {{amount}}</p>
                    <p><strong>Date:</strong> {{date}}</p>
                    {{#if recipient}}
                        <p><strong>Recipient:</strong> {{recipient}}</p>
                    {{/if}}
                    {{#if reference}}
                        <p><strong>Reference/Memo:</strong> {{reference}}</p>
                    {{/if}}
                </div>
            {{/each}}
        </div>
        <button class="expand-button">+ More</button>
        <button class="less-button hidden">-- Less</button>
    </div>

    <div class="upcoming-events glass">
        <h2>Upcoming Events</h2>
        <button class="schedule-button">+ Schedule Payment</button>
    </div>

    <script src="/script.js"></script>
</body>
</html>
